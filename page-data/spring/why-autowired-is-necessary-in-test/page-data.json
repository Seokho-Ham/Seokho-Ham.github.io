{"componentChunkName":"component---src-templates-blog-template-js","path":"/spring/why-autowired-is-necessary-in-test/","result":{"data":{"cur":{"id":"2a641673-0b43-5d61-a894-4acbc8b05b26","html":"<p>스프링 카페 미션 3단계를 진행하며 Repository에 대한 테스트코드를 작성하며 했던 삽질에 대해 정리한 내용이다.</p>\n<p>테스트코드에는 @JdbcTest 어노테이션을 추가했고, 생성자가 하나밖에 없었기 때문에 의존성 주입이 자동으로 이루어질 줄 알았지만 실행해보니 아래와 같은 에러가 발생했다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 3.3333333333333335%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAO0lEQVR42mNwMDD4b6ev/9/ZwBBMOwH5roaGYBqEHfQNwHIuQDFrPf3/9kA+SI8bVI0LUM4GqA+EQWoADhQgfppHfMEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"error-message\"\n        title=\"error-message\"\n        src=\"/static/172cbc540fd2126dbca32c7d411f6360/37523/parameter-resolver-error.png\"\n        srcset=\"/static/172cbc540fd2126dbca32c7d411f6360/e9ff0/parameter-resolver-error.png 180w,\n/static/172cbc540fd2126dbca32c7d411f6360/f21e7/parameter-resolver-error.png 360w,\n/static/172cbc540fd2126dbca32c7d411f6360/37523/parameter-resolver-error.png 720w,\n/static/172cbc540fd2126dbca32c7d411f6360/302a4/parameter-resolver-error.png 1080w,\n/static/172cbc540fd2126dbca32c7d411f6360/07a9c/parameter-resolver-error.png 1440w,\n/static/172cbc540fd2126dbca32c7d411f6360/2aa89/parameter-resolver-error.png 1698w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>처음 보는 에러에 헤매다가 결국 쿠킴의 도움을 받아서 필드에 @Autowired를 붙여주니까 의존성 주입이 되었고 문제는 해결이 됐다.\n하지만 분명 스프링에서는 생성자가 하나면 @Autowired를 생략할 수 있다고 배웠는데 대체 왜 안되는지 이해가 안되서 자료를 찾아보게 되었다.</p>\n<!--more-->\n<h3 id=\"주입하는-주체가-다르다\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9E%85%ED%95%98%EB%8A%94-%EC%A3%BC%EC%B2%B4%EA%B0%80-%EB%8B%A4%EB%A5%B4%EB%8B%A4\" aria-label=\"주입하는 주체가 다르다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주입하는 주체가 다르다</h3>\n<p>SpringApplication의 경우 빈을 주입해주는 역할을 스프링이 담당한다.\n하지만 테스트의 경우 Junit(Jupiter 엔진)에 의해 객체를 주입하게 된다. 이때 JUnit은 ParameterResolver를 사용해서 주입을 한다.</p>\n<h3 id=\"parameter-resolver\" style=\"position:relative;\"><a href=\"#parameter-resolver\" aria-label=\"parameter resolver permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Parameter Resolver</h3>\n<ul>\n<li>테스트에 동적으로 parameter를 주입할 수 있도록 junit에서 제공하는 인터페이스</li>\n<li><code class=\"language-text\">xxxExtension</code> 를 구현체로 보통 사용하며 <code class=\"language-text\">supportsParameter()</code> , <code class=\"language-text\">resolveParameter()</code> 메서드를 구현해야한다.\n<ul>\n<li><code class=\"language-text\">supportsParameter()</code> : 주입할 수 있는 타입 여부를 boolean으로 리턴한다.</li>\n<li><code class=\"language-text\">resolveParameter()</code> : 주입할 타입의 객체를 반환한다.</li>\n</ul>\n</li>\n<li>사용하려면 @ExtendWith(xxxExtension.class)를 테스트 위에 붙여야 한다.</li>\n</ul>\n<h3 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h3>\n<p><code class=\"language-text\">@SpringBootTest</code>, <code class=\"language-text\">@JdbcTest</code>내부에는 <code class=\"language-text\">@ExtendWith(SpringExtension.class)</code>어노테이션이 등록되어 있으며, <strong>SpringExtension은 ParameterResolver를 구현한 구현체</strong>다.\nSpringExtension 클래스의 supportParameter 메서드에서는 스프링 컨테이너에서 가져올 수 있는 빈 타입 여부를 @AutoWired 어노테이션이 있는지를 가지고 판단한다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABSElEQVR42lWSa46DMAyEOU0LhDyBkHegrXar3v8+sw7drbQ/Po0dyyPb0Hl7geJXcDZCihFKMAg+gnN+Mk3TCRcSQghSQUqxlFT/jU84GHl0wRrksKHEDUfxqNFirxEx74jlTSoVzq3QxkBpDTMvJ1qbT6y0wtgMrc/I+45AjZ5MrE/Ix4NMyKgeVLuh7HeknDGrAdfrFX3f6P8xDAPGkQwNOTu74sgPHOmBPd+RK5mQacz1jOtxQ0gZLkSs6wK7WSzLDDcLKPleuZ2C0Wk6yXpoxeFShSe2WLBtK5x38OWgqStsTCeOamtIMC5AtfUJaWaotjLF7ebdQGN6MeGVIl454RkDXtHjO1g8U8JXjLgHh50my5JjNxpFS2TqKZQnwrML2N/K7cusRFASgdb/6BkLxJY3pdxT87su4UnbmyO103D+JSNj+AGHQ+FeVWsynQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"spring-extension\"\n        title=\"spring-extension\"\n        src=\"/static/6e25b113ce4103b63433736f988b4cb7/37523/spring-extension.png\"\n        srcset=\"/static/6e25b113ce4103b63433736f988b4cb7/e9ff0/spring-extension.png 180w,\n/static/6e25b113ce4103b63433736f988b4cb7/f21e7/spring-extension.png 360w,\n/static/6e25b113ce4103b63433736f988b4cb7/37523/spring-extension.png 720w,\n/static/6e25b113ce4103b63433736f988b4cb7/302a4/spring-extension.png 1080w,\n/static/6e25b113ce4103b63433736f988b4cb7/07a9c/spring-extension.png 1440w,\n/static/6e25b113ce4103b63433736f988b4cb7/ed8a2/spring-extension.png 1972w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAx0lEQVR42iWPWY6FMAwE32VGeiRAAlmchQAz979TTQgfpbbdUqv9CdvCkQJXzdzlUeE+E/cRaK0g/Z5KRjrRG1IWcinEKNjNsqwrxpiXPn+01mQRSq2U4yTXl1QakgteIql7MeehqVREApIsEj3O7fggOB/ZNvMG2vmLdxv1vDmu30HKdey13eTWKO2iXX/Uo3sy9/Y/tDiR3MxiLFopnqyPnjXTpHp1Q5BEiC+780N9f83FOPTx/ePtGr9/CVaxLgql9AhUnX9sr4GUxW9syQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"isAutowirable\"\n        title=\"isAutowirable\"\n        src=\"/static/6d42c049fe64586f1d27493db99ed605/37523/isAutowirable.png\"\n        srcset=\"/static/6d42c049fe64586f1d27493db99ed605/e9ff0/isAutowirable.png 180w,\n/static/6d42c049fe64586f1d27493db99ed605/f21e7/isAutowirable.png 360w,\n/static/6d42c049fe64586f1d27493db99ed605/37523/isAutowirable.png 720w,\n/static/6d42c049fe64586f1d27493db99ed605/302a4/isAutowirable.png 1080w,\n/static/6d42c049fe64586f1d27493db99ed605/07a9c/isAutowirable.png 1440w,\n/static/6d42c049fe64586f1d27493db99ed605/d698c/isAutowirable.png 1846w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Junit에서 @Autowired를 사용하지 않으면 SpringExtension은 해당 타입의 객체를 제공할 수 없다고 응답하게 되고, Junit은 해당 타입을 처리할 ParameterResolver가 없다고 에러를 발생시키게 된다.</p>\n<blockquote>\n<p><strong>그래서 결과적으로 @AutoWired가 없이는 객체의 주입이 불가능하다.</strong></p>\n</blockquote>\n<h4 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h4>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/66671846/why-does-springboottest-need-autowired-in-constructor-injection\">Why does @SpringBootTest need @Autowired in constructor injection</a></li>\n<li><a href=\"https://www.baeldung.com/junit-5-parameters\">Inject Parameters into JUnit Jupiter Unit Tests</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%A3%BC%EC%9E%85%ED%95%98%EB%8A%94-%EC%A3%BC%EC%B2%B4%EA%B0%80-%EB%8B%A4%EB%A5%B4%EB%8B%A4\">주입하는 주체가 다르다</a></p>\n</li>\n<li>\n<p><a href=\"#parameter-resolver\">Parameter Resolver</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B2%B0%EB%A1%A0\">결론</a></p>\n<ul>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">참고자료</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"스프링 카페 미션 3단계를 진행하며 Repository에 대한 테스트코드를 작성하며 했던 삽질에 대해 정리한 내용이다. 테스트코드에는 @JdbcTest 어노테이션을 추가했고, 생성자가 하나밖에 없었기 때문에 의존성 주입이 자동으로 이루어질 줄 알았지만 실행해보니 아래와 같은 에러가 발생했다.  처음 보는 에러에 헤매다가 결국 쿠킴의 도움을 받아서 필드에 @Autowired를 붙여주니까 의존성 주입이 되었고 문제는 해결이 됐다.\n하지만 분명 스프링에서는 생성자가 하나면 @Autowired를 생략할 수 있다고 배웠는데 대체 왜 안되는지 이해가 안되서 자료를 찾아보게 되었다. 주입하는 주체가 다르다 SpringApplication의 경우 빈을 주입해주는 역할을 스프링이 담당한다.\n하지만 테스트의 경우 Junit(Jupiter 엔진)에 의해 객체를 주입하게 된다. 이때 JUnit은 ParameterResolver를 사용해서 주입을 한다. Parameter Resolver 테스트에 동적으로…","frontmatter":{"date":"March 18, 2022","title":"Test에서는 왜 @Autowired 없이는 의존성 주입이 안될까?","categories":"스프링","author":"포키","emoji":"🍀"},"fields":{"slug":"/spring/why-autowired-is-necessary-in-test/"}},"next":{"id":"beec2577-95ad-5f19-be96-b69be5565473","html":"<h2 id=\"mvc-패턴\" style=\"position:relative;\"><a href=\"#mvc-%ED%8C%A8%ED%84%B4\" aria-label=\"mvc 패턴 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MVC 패턴</h2>\n<ul>\n<li>코드를 기능에 따라 나눠주는 패러다임</li>\n<li>도메인(Model)과 UI(View)이 분리되어 관리되기 때문에 서로에게 영향을 주지 않는다. 즉, <strong>기능확장과 유지보수가 편리해진다</strong>.</li>\n<li>Model, View, Controller로 나뉜다.</li>\n</ul>\n<h3 id=\"1-model\" style=\"position:relative;\"><a href=\"#1-model\" aria-label=\"1 model permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Model</h3>\n<ul>\n<li>애플리케이션과 관련된 데이터, 비즈니스 로직을 담당한다.</li>\n<li><strong>Model에서는 View, Controller에 대한 의존성을 가지면 안된다.</strong></li>\n</ul>\n<h3 id=\"2-view\" style=\"position:relative;\"><a href=\"#2-view\" aria-label=\"2 view permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. View</h3>\n<ul>\n<li>사용자로부터 받는 입력, 사용자에게 제공하는 출력 등 UI를 담당한다.</li>\n<li>View에서는 Controller에 대한 의존성을 가져서는 안된다. (Model에 대한 의존성은 괜찮다.)</li>\n<li><strong>View는 Model로부터 데이터를 받을때 사용자에게 다르게 보여지는 부분들에 대해서만 받아야한다.</strong></li>\n</ul>\n<h3 id=\"3-controller\" style=\"position:relative;\"><a href=\"#3-controller\" aria-label=\"3 controller permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Controller</h3>\n<ul>\n<li>Model과 View를 이어주는 역할.</li>\n<li><strong>View를 통해 들어온 요청사항을 Model에게 전달해주거나 변경사항을 View에게 전달해준다.</strong></li>\n<li>반드시 하나의 컨트롤러만 존재해야 하는것은 아니다.</li>\n</ul>\n<img src=\"https://user-images.githubusercontent.com/57708971/154414499-0c157c6f-1327-4dfc-9ac8-3c545b11ed49.jpg\" width=\"700\">\n<h3 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h3>\n<ul>\n<li><a href=\"https://youtu.be/ogaXW6KPc8I\">우테코 테코톡</a></li>\n</ul>","frontmatter":{"date":"March 18, 2022","title":"[디자인 패턴] - MVC 패턴","categories":"자바","author":"포키","emoji":"🃏"},"fields":{"slug":"/java/mvc-pattern/"}},"prev":{"id":"a5f8a760-af4d-586c-9707-8c5a6cbf0b78","html":"<h2 id=\"-학습-회고\" style=\"position:relative;\"><a href=\"#-%ED%95%99%EC%8A%B5-%ED%9A%8C%EA%B3%A0\" aria-label=\" 학습 회고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👨‍💻 학습 회고</h2>\n<h3 id=\"스프링-미션-3단계\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81-%EB%AF%B8%EC%85%98-3%EB%8B%A8%EA%B3%84\" aria-label=\"스프링 미션 3단계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스프링 미션 3단계</h3>\n<ul>\n<li>어제 Repository를 테스트하는데 생성자를 통해서는 의존성이 주입이 되지 않았다. 쿠킴의 도움을 받아 필드에 @Autowired를 붙여줘야 의존성 주입이 된다는걸 알게 되어서 해결했다. 문제 해결과 별개로 이유가 궁금해서 찾아보고 정리했다.</li>\n</ul>\n<blockquote>\n<p><a href=\"https://seokho-ham.github.io/spring/why-autowired-is-necessary-in-junit\">Test에서는 왜 @Autowired 없이는 의존성 주입이 안될까?</a></p>\n</blockquote>\n<h3 id=\"jar-vs-plainjar\" style=\"position:relative;\"><a href=\"#jar-vs-plainjar\" aria-label=\"jar vs plainjar permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>.jar vs plain.jar</h3>\n<p>heroku를 사용해 배포할때 안에서 빌드가 된다. 이때 빌드의 결과물로 2개의 jar파일이 생성되는데, heroku에서는 <code class=\"language-text\">*.jar</code> 이런식으로 모든 jar파일을 읽고 실행한다. plain.jar를 실행하는데서 문제가 발생했고, jay의 글 덕분에 문제는 쉽게 해결했다.<br>\n생성되는 2개의 jar파일이 어떤 차이인지 몰라서 간단하게 정리한다.</p>\n<p>Spring Boot 빌드 시 <strong>프로젝트 이름과 버전만 적힌 jar파일</strong>과 <strong>plain까지 함께 적힌 jar파일</strong> 2개가 생긴다.</p>\n<h4 id=\"-plainjar-파일\" style=\"position:relative;\"><a href=\"#-plainjar-%ED%8C%8C%EC%9D%BC\" aria-label=\" plainjar 파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>*-plain.jar 파일</h4>\n<ul>\n<li>Jar task에 의해 생성되는 파일이며 <strong>plain archive</strong>라고 부른다.</li>\n<li>클래스 파일과 리소스 파일 이외의 의존성은 가지지 않는다. 앱 실행에 필요한 의존성들이 없기 때문에 <code class=\"language-text\">java -jar</code> 명령어로 실행이 불가능하다.</li>\n</ul>\n<h4 id=\"jar-파일\" style=\"position:relative;\"><a href=\"#jar-%ED%8C%8C%EC%9D%BC\" aria-label=\"jar 파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>*.jar 파일</h4>\n<ul>\n<li>BootJar task에 의해 생성되며 <strong>executable archive</strong>라고 부른다.</li>\n<li>모든 의존성을 가진 jar 파일이며 앱을 정상적으로 실행할 수 있다.</li>\n</ul>\n<p>build.gradle 파일에 아래와 같이 작성하면 jar task를 통해 생성하는건 건너뛸 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\"><span class=\"token comment\">//build.gradle</span>\n\njar<span class=\"token punctuation\">{</span>\n\tenabled <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"date":"March 18, 2022","title":"TIL-220318","categories":"TIL","author":"포키","emoji":"📝"},"fields":{"slug":"/til/03/2022-03-18-til/"}},"site":{"siteMetadata":{"siteUrl":"https://seokho-ham.github.io","comments":{"utterances":{"repo":"seokho-ham/blog-comments"}}}}},"pageContext":{"slug":"/spring/why-autowired-is-necessary-in-test/","nextSlug":"/java/mvc-pattern/","prevSlug":"/til/03/2022-03-18-til/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}