---
title: 'TIL-220413 todolist 프로젝트 11일차'
date: 2022-04-13
permalink: /til/2022/04/13
categories:
  - TIL
tags:
  - TIL
  - 일일회고
  - 코드 스쿼드
toc: true
toc_label: '목차'
toc_sticky: true
---

<!--more-->


## 🛎 **하루 일과**

> 10:00 ~ 10:30 데일리 스크럼  
> 10:30 ~ 12:50 마스터 클래스  
> 14:00 ~ 17:00 todolist 프로젝트  
> 21:30 ~ 22:10 알고리즘 스터디  
> 23:00 ~ 01:00 todolist 프로젝트

## 👨‍💻 **학습 회고**

### **🤝 todolist 프로젝트**

- 도메인 객체를 직접 반환하는 대신 Dto 객체를 반환하도록 변경
- pr 날리기

어제 이동욱님 책과 시그리드의 리뷰를 통해 기존 도메인 객체를 바로 반환하는 것에 대해 고민해볼 수 있었고, 데이브와 상의 후 Dto 객체를 반환하는것으로 수정하는 작업을 진행했다.  

```java
//변경 전 코드
@GetMapping("/todos")
public Map<String, Card> getTodo() { ... }

//변경 후 코드
@GetMapping("/todos")
public ResponseCardsDto getTodo() { ... }
```
위의 코드와 같이 변경했더니 문제는 클라이언트에서 받게 되는 데이터가 한겹 더 싸였다. 이런건 어떻게 처리하는게 좋을지 모르겠다. 차라리 그냥 List로 반환해주고, 프론트에서 정렬하도록 하는게 맞는것 같기도 하다.

```json
{
  "cards" : {
    "해야할 일" : [],
    "하고 있는 일" : [],
    "완료된 일" : []
  }
}
```

밤에는 @Transactional을 코드에 추가해보는 작업을 진행했다.
현재의 코드에서는 클라이언트가 카드를 추가하는 요청을 했을 경우, DB에 카드를 저장하는데 성공하고 이벤트를 저장하는데 실패할 경우 카드 데이터는 그대로 저장되고 끝난다.  
이러면 실제 데이터는 들어갔지만 이벤트 하나를 날려먹게 된다. 그래서 데이터를 넣고 이벤트를 등록하는 로직을 하나의 단위로 묶어서 처리하는게 맞는것 같다는 생각이 들어서 로컬에서만 시도해봤다.

추가적으로 ResponseEntity에 대해 학습해봐야겠다.


## 💁🏻‍♂️ 개선점

1. 오늘은 컨디션이 최악이었다. 아직 몸이 늦게까지 학습하는거에 적응이 되지 않아서인지, 눈이 터질거같다.
- 쉴때는 확실하게!! 1시간정도는 산책을 나가서 눈을 쉬게 해주자.
