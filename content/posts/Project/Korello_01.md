---
title: '[Korello 프로젝트] Refactoring Day1'
date: 2021-07-17T14:08:24+09:00
categories: ['사이드 프로젝트']
tags: ['Javascript', 'React', '프로젝트']
draft: false
---

한달간 기존의 Korello 프로젝트를 새로운 레포를 만들어 처음부터 다시 개발하기로 했다.

<br>

<!--more-->

### **기존의 코드는...**

- 오직 기능 구현을 목적으로 개발했다. 그래서 재사용성? 그런거 없다. 기능 하나를 추가하려면 고쳐야 할 코드가 너무 많다.
- 테스트 코드가 없다.
- 취업에 급급해서 개발했다.
- 디자인이 구리다.
- CRA를 사용해서 만들었다.

등등 이외에도 아쉬운 부분이 너무 많다.

<br>

### **그래서 이번에는?**

- 재사용성을 먼저 고민하며 코드를 작성할 것.
- 테스트 코드를 구현 코드보다 먼저 작성할 것.
- React와 Javascript에서 사용하는 패턴들을 학습하고 사용할 것.
- `Create-React-App`이 아닌 직접 Webpack 설정을 해볼것.

<br>

### 설계

설계 원칙

- `확장성` 있고 `재사용성` 있는 코드를 만들어야 한다.
  -> 컴포넌트는 확장성과 재사용성을 위해서 개발되어야한다.
- `관심사`에 따라 코드를 분리하고 `단일 책임`을 가지는 컴포넌트를 만들어야 한다.
  -> 컴포넌트는 props를 받으면 같은 JSX를 리턴하는 순수함수로 작성한다.
- 외부에 `제어를 위임` 시켜야 한다.

<br>

### 프로젝트 구조 설계

Presentational & Container 패턴과 아토믹 디자인 패턴을 후보에 두고 고민했다.
프로젝트의 구조가 깔끔하고 작은 단위에서 부터 개발을 해 재사용성이 높은 **아토믹 디자인 패턴**을 사용하기로 했다.

```
|-- src
|     |- components
|           |-atoms
|           |-molecules
|           |-organics
|           |-templates
|     |- hooks
|     |- pages
|     |- reducer
|     |- store
|     |- App.js
|     |- index.js
|-- package.json
|-- README.MD
```

<br>

### 테스팅 라이브러리

**Jest를 사용한다.**

최근 "자바스크립트 패턴과 테스트"를 읽으며 Jasmine을 처음 사용해보았다. 또한 이전 프로젝트에서 Mocha와 Chai를 사용해 테스트를 작성한 경험 또한 있다.
하지만 Jasmine, Mocha 모두 매처와 목 프레임워크까지 설치를 해야했다면 Jest 하나의 라이브러리만 설치하면 모두 동작한다고 한다.
또한 Typescript, React에서도 모두 동작이 잘 된다고 하여 이번에는 Jest를 사용해보기로 했다.

### 진행 상황

- 요구사항들을 자세하게 정리했다.
- 주차별로 개발 목표를 설정했다.
- 커밋 규칙과 린트를 정했다.
- 프로젝트 구조는 **아토믹 디자인 패턴**, 테스팅 라이브러리는 **Jest**를 사용한다.
